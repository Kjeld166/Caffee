<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Getränk bestellen</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
        }

        button {
            margin: 5px;
            padding: 10px 20px;
        }
    </style>
</head>
<body>
    <h1>Bestellung aufgeben</h1>
    <div id="drinks"></div>
    
    <h2>Getränke</h2>
    <div id="drinkList"></div>

    <script type="module">
        import { db } from "./firebase.js";
        import { collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

        const drinks = ["Kaffee", "Tee", "Latte", "Espresso"];
        const container = document.getElementById("drinks");

        drinks.forEach(drink => {
            const btn = document.createElement("button");
            btn.textContent = drink;
            btn.onclick = async () => {
                await addDoc(collection(db, "orders"), {
                    drink,
                    status: "offen",
                    created: serverTimestamp()
                });
                alert(`Bestellt: ${drink}`);
            };
            container.appendChild(btn);
        });
        </script>
            <script>
      function loadDrinks() {
        const drinks = JSON.parse(localStorage.getItem("drinks")) || [];
        const list = document.getElementById("drinkList");
        list.innerHTML = "";
    
        drinks.forEach(drink => {
          const item = document.createElement("div");
          item.style.border = "1px solid #ccc";
          item.style.margin = "10px 0";
          item.style.padding = "10px";
    
          item.innerHTML = `
            <img src="${drink.image}" alt="${drink.name}" style="max-width:100px"><br>
            <strong>${drink.name}</strong><br>
            <em>${drink.description}</em><br>
            <button onclick="orderDrink('${drink.name}')">Bestellen</button>
          `;
          list.appendChild(item);
        });
      }
    
      function orderDrink(name) {
        alert("Du hast " + name + " bestellt!");
        // Hier könnte man die Bestellung erweitern
      }
    
      window.onload = loadDrinks;

    </script>
</body>
</html>
